<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.huawei.account.mapper.AccountMapper">

    <select id="findAllAccount"
            parameterType="com.huawei.base.utils.PageBean"
            resultType="com.huawei.account.domain.Account">
        SELECT * FROM account limit #{pageSize} offset #{startIndex}
    </select>

    <select id="findAccountCount"
            resultType="int">
        SELECT count(*) FROM account
    </select>

    <update id="setState"
            parameterType="com.huawei.account.domain.Account">
        UPDATE account SET status = #{status},pause_date=#{pause_date}
        WHERE account_id = #{account_id}
    </update>

    <delete id="deleteAccount"
            parameterType="com.huawei.account.domain.Account">
         UPDATE account SET status=#{status},close_date=#{close_date}
         WHERE account_id=#{account_id}
    </delete>

    <select id="findSingle"
            parameterType="java.lang.String"
            resultType="int">
        SELECT account_id
        FROM account
        WHERE idcard_no=#{value}
    </select>

    <insert id="addAccount"
            parameterType="com.huawei.account.domain.Account">
         INSERT INTO account (recommender_id,login_name,login_passwd,status,create_date,real_name,idcard_no,birthdate,gender,occupation,telephone,email,mailaddress,zipcode,qq)
        VALUES (#{recommender_id},#{login_name},#{login_passwd},#{status},#{create_date},#{real_name},#{idcard_no},#{birthdate},#{gender},#{occupation},#{telephone},#{email},#{mailaddress},#{zipcode},#{qq})
    </insert>
</mapper>